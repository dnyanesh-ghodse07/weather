(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{107:function(e,a,t){e.exports={loading:"Loading_loading__34Sjw"}},111:function(e,a,t){e.exports={chart:"Chart_chart__nJm6S"}},123:function(e,a,t){},16:function(e,a,t){e.exports={wrapper:"WeatherMain_wrapper__3oZUp",container:"WeatherMain_container__3DFUj",main:"WeatherMain_main__3HTm4",search_box:"WeatherMain_search_box__paZKh",weatherbox:"WeatherMain_weatherbox__3rJ60",location:"WeatherMain_location__26e6E",date:"WeatherMain_date__2zxim",temp:"WeatherMain_temp__E_ugD",desc:"WeatherMain_desc__3UjE6",weather:"WeatherMain_weather__166MH",highLow:"WeatherMain_highLow__3Wf7d",high:"WeatherMain_high__3BNpL",low:"WeatherMain_low__3PBim",cloud:"WeatherMain_cloud__1htcb",btn:"WeatherMain_btn__3KK2A",graphBtn:"WeatherMain_graphBtn__2YXxg",valid_name:"WeatherMain_valid_name__1VJVH",icon:"WeatherMain_icon__3x3Bp"}},231:function(e,a,t){},232:function(e,a,t){"use strict";t.r(a);var n,i=t(3),c=t.n(i),r=t(104),s=t.n(r),o=(t(123),t(17)),l=t(244),d=t(105),h=t(242),j=Object(h.a)(n||(n=Object(d.a)(["\n  query getCityByName($name: String!) {\n    getCityByName(name: $name) {\n      name\n      country\n      coord {\n        lon\n        lat\n      }\n      weather {\n        summary {\n          icon\n          title\n          description\n        }\n        temperature {\n          actual\n          min\n          max\n          feelsLike\n        }\n        wind {\n          deg\n          speed\n        }\n        clouds {\n          all\n          visibility\n          humidity\n        }\n        timestamp\n      }\n    }\n  }\n"]))),u=t(4),m=Object(i.createContext)(),b=function(e){var a=e.children,t=Object(i.useState)("bangalore"),n=Object(o.a)(t,2),c=n[0],r=n[1],s=Object(i.useState)(!1),d=Object(o.a)(s,2),h=d[0],b=d[1],v=Object(i.useState)(!1),p=Object(o.a)(v,2),x=p[0],_=p[1],O=Object(i.useState)({}),g=Object(o.a)(O,2),y=g[0],w=g[1],f=Object(l.a)(j,{variables:{name:c}}),N=Object(o.a)(f,2),M=N[0],C=N[1],S=C.loading,W=C.data,B=C.error,D="https://api.openweathermap.org/data/2.5/forecast?q=".concat(c,"&appid=").concat("f32cfa0133a992d042027732e48eae99");return Object(i.useEffect)((function(){M(),fetch(D).then((function(e){return e.json()})).then((function(e){w(e)}))}),[]),Object(u.jsx)(m.Provider,{value:{cityName:c,setCityName:r,loading:S,data:W,error:B,showMore:h,setShowMore:b,showGraph:x,setShowGraph:_,forecast:y,setForecast:w},children:a})},v=t(16),p=t.n(v);var x=function(){return Object(u.jsx)("div",{children:function(e){var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],t=e.getDate(),n=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],i=e.getFullYear();return"".concat(a," ").concat(t," ").concat(n," ").concat(i)}(new Date)})},_=t(107),O=t.n(_),g=t.p+"static/media/Spinner.adcee08f.svg";var y=function(){return Object(u.jsx)("div",{className:O.a.loading,children:Object(u.jsx)("img",{src:g,alt:"loading"})})},w=t(32),f=t.n(w),N=t(77),M=t(109),C=t(108),S=t(110);var W=function(){var e,a,t,n,c,r,s,o,l,d,h,j=Object(i.useContext)(m),b=new Date(1e3*(null===(e=j.forecast)||void 0===e?void 0:e.city.sunrise)).toLocaleTimeString(),v=new Date(1e3*(null===(a=j.forecast)||void 0===a?void 0:a.city.sunset)).toLocaleTimeString();return console.log(j.forecast),Object(u.jsxs)("div",{className:f.a.weatherInfo,children:[Object(u.jsxs)("div",{className:f.a.humi,children:[Object(u.jsxs)("li",{className:f.a.icon,children:[Object(u.jsxs)("span",{children:[Object(u.jsx)(C.a,{})," Wind Speed :"]}),null===(t=j.data)||void 0===t||null===(n=t.getCityByName)||void 0===n||null===(c=n.weather)||void 0===c||null===(r=c.wind)||void 0===r?void 0:r.speed," m/s"]}),Object(u.jsxs)("li",{className:f.a.icon,children:[Object(u.jsxs)("span",{children:[Object(u.jsx)(M.a,{})," Humidity :"]}),null===(s=j.data)||void 0===s||null===(o=s.getCityByName)||void 0===o||null===(l=o.weather)||void 0===l||null===(d=l.clouds)||void 0===d?void 0:d.humidity," g.kg",Object(u.jsx)("sup",{children:"-1"})]}),Object(u.jsxs)("li",{className:f.a.icon,children:[Object(u.jsxs)("span",{children:[Object(u.jsx)(S.a,{})," Pressure :"]}),null===(h=j.forecast)||void 0===h?void 0:h.list[0].main.pressure," Pa"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("li",{className:f.a.icon,children:[Object(u.jsxs)("span",{children:[Object(u.jsx)(N.a,{})," Sunrise :"]}),b]}),Object(u.jsxs)("li",{className:f.a.icon,children:[Object(u.jsxs)("span",{children:[Object(u.jsx)(N.b,{})," Sunset :"]}),v]})]})]})},B=t(111),D=t.n(B),L=t(115);var k=function(){var e=Object(i.useContext)(m),a=[e.forecast.list[7],e.forecast.list[15],e.forecast.list[23],e.forecast.list[31],e.forecast.list[39]];console.log(a);var t=[];a.forEach((function(e){var a=new Date(1e3*e.dt).getDate();t.push(a)}));var n={labels:[t[0]+" / 2021",t[1]+" / 2021",t[2]+" / 2021",t[3]+" / 2021",t[4]+" / 2021"],datasets:[{label:"High",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:[a[0].main.temp_max-273.15,a[1].main.temp_max-273.15,a[2].main.temp_max-273.15,a[3].main.temp_max-273.15,a[4].main.temp_max-273.15]},{label:"Low",borderColor:"#aba",backgroundColor:"#123",data:[a[0].main.temp_min-273.15,a[1].main.temp_min-273.15,a[2].main.temp_min-273.15,a[3].main.temp_min-273.15,a[4].main.temp_min-273.15]}]};return Object(u.jsx)("div",{className:D.a.chart,children:Object(u.jsx)(L.a,{data:n})})};var G=function(){var e,a,t,n,c,r,s,o,l,d,h,j,b,v,_,O,g,w,f,N,M,C,S,B,D,L,G,H,J=Object(i.useContext)(m);return Object(u.jsxs)("div",{className:p.a.wrapper,children:[Object(u.jsx)("div",{className:p.a.container,children:Object(u.jsxs)("main",{className:p.a.main,children:[Object(u.jsx)("div",{className:p.a.search_box,children:Object(u.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search Weather by city..",onChange:function(e){J.setCityName(e.target.value)}})}),(null===J||void 0===J?void 0:J.loading)?Object(u.jsx)(y,{}):null==(null===J||void 0===J||null===(e=J.data)||void 0===e?void 0:e.getCityByName)?Object(u.jsx)("div",{className:p.a.valid_name,children:Object(u.jsx)("h3",{children:"Enter valid city name"})}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("article",{children:[Object(u.jsxs)("div",{className:p.a.dateLocation,children:[Object(u.jsxs)("div",{className:p.a.location,children:[null===(a=J.data)||void 0===a||null===(t=a.getCityByName)||void 0===t?void 0:t.name,",",null===(n=J.data)||void 0===n||null===(c=n.getCityByName)||void 0===c?void 0:c.country]}),Object(u.jsx)("div",{className:p.a.date,children:Object(u.jsx)(x,{})})]}),Object(u.jsx)("div",{className:p.a.icon,children:Object(u.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(null===(r=J.data)||void 0===r||null===(s=r.getCityByName)||void 0===s||null===(o=s.weather)||void 0===o||null===(l=o.summary)||void 0===l?void 0:l.icon,".png"),alt:""})}),Object(u.jsxs)("div",{className:p.a.weatherbox,children:[Object(u.jsxs)("div",{className:p.a.temp,children:[Math.round((null===(d=J.data)||void 0===d||null===(h=d.getCityByName)||void 0===h||null===(j=h.weather)||void 0===j||null===(b=j.temperature)||void 0===b?void 0:b.actual)-273.15),"\xb0c"]}),Object(u.jsxs)("div",{className:p.a.desc,children:[Object(u.jsx)("h5",{children:null===(v=J.data)||void 0===v||null===(_=v.getCityByName)||void 0===_||null===(O=_.weather)||void 0===O?void 0:O.summary.title}),Object(u.jsx)("p",{children:null===(g=J.data)||void 0===g||null===(w=g.getCityByName)||void 0===w||null===(f=w.weather)||void 0===f||null===(N=f.summary)||void 0===N?void 0:N.description})]})]})]}),Object(u.jsxs)("div",{className:p.a.highLow,children:[Object(u.jsxs)("div",{className:p.a.high,children:["Todays's High :"," ",Math.round((null===(M=J.data)||void 0===M||null===(C=M.getCityByName)||void 0===C||null===(S=C.weather)||void 0===S||null===(B=S.temperature)||void 0===B?void 0:B.max)-273.15),"\xb0c"]}),Object(u.jsxs)("div",{className:p.a.low,children:["Todays's Low :"," ",Math.round((null===(D=J.data)||void 0===D||null===(L=D.getCityByName)||void 0===L||null===(G=L.weather)||void 0===G||null===(H=G.temperature)||void 0===H?void 0:H.min)-273.15),"\xb0c"]})]}),J.showMore?Object(u.jsx)(W,{}):null]}),Object(u.jsxs)("div",{className:p.a.btn,children:[Object(u.jsx)("button",{onClick:function(){J.setShowMore(!J.showMore)},children:J.showMore?"Hide Details":"Show Details"}),Object(u.jsx)("button",{className:p.a.graphBtn,onClick:function(){J.setShowGraph(!J.showGraph)},children:J.showGraph?"Hide Graph":"Show Graph"})]})]})}),J.showGraph&&Object(u.jsx)(k,{})]})},H=(t(231),t(241)),J=t(243),E=t(240),T=new H.a({cache:new J.a,uri:"https://graphql-weather-api.herokuapp.com/"});var I=function(){return Object(u.jsx)(E.a,{client:T,children:Object(u.jsx)(b,{children:Object(u.jsx)(G,{})})})};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root"))},32:function(e,a,t){e.exports={weatherInfo:"WeatherInfo_weatherInfo__2_64r",icon:"WeatherInfo_icon__3cqAS"}}},[[232,1,2]]]);
//# sourceMappingURL=main.c8327d35.chunk.js.map